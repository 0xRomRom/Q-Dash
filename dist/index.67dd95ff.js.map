{"mappings":"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","sources":["scripts/manageNotifications.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst manageNotification = document.querySelector(\".man-notif\");\r\nconst notificationModal = document.querySelector(\".notification-box\");\r\nconst dropShadow = document.querySelector(\".dropshadow\");\r\nconst closeNotifModal = document.querySelector(\".light-close3\");\r\nconst notifPush = document.querySelector(\".notif-push\");\r\nconst coinSearch = document.querySelector(\".coin-search\");\r\nconst coinFetchPrice = document.querySelector(\".coin-fetch-output\");\r\nconst coinFetchTitle = document.querySelector(\".coin-fetch-title\");\r\nconst coinFetchTitle2 = document.querySelector(\".target-price-title\");\r\nconst userInput = document.querySelector(\".user-coin-query\");\r\nconst allowContainer = document.querySelector(\".notif-anim-container\");\r\nconst inputContainer = document.querySelector(\".notif-anim-container2\");\r\nconst resultContainer = document.querySelector(\".notif-anim-container3\");\r\nconst noCoinErrorTxt = document.querySelector(\".error-text2\");\r\nconst coinNameTitle = document.querySelector(\".state-coinname\");\r\nconst targetPriceTxt = document.querySelector(\".target-price-title\");\r\nconst targetPriceExpected = document.querySelector(\".target-price-expected\");\r\nconst calculatePrice = document.querySelector(\".calculate-price\");\r\nconst userPercentageInput = document.querySelector(\".user-percentage-input\");\r\nconst incDecToggle = document.querySelector(\".coin-param\");\r\nconst alertButton = document.querySelector(\".alert-button\");\r\nconst messageModal = document.querySelector(\".msg-modal\");\r\n\r\nconst upperModal = document.querySelector(\".result-upper\");\r\nconst lowerModal = document.querySelector(\".result-lower\");\r\nconst sideModal = document.querySelector(\".result-setup-box\");\r\n\r\nwindow.addEventListener(\"load\", () => {\r\n  if (Notification.permission === \"granted\") {\r\n    allowContainer.classList.add(\"hidden\");\r\n    inputContainer.classList.remove(\"hidden\");\r\n  }\r\n});\r\n\r\n// Open notification modal\r\nmanageNotification.addEventListener(\"click\", () => {\r\n  notificationModal.classList.remove(\"hidden\");\r\n  dropShadow.classList.remove(\"hidden\");\r\n});\r\n\r\n// Close notification modal\r\ncloseNotifModal.addEventListener(\"click\", () => {\r\n  notificationModal.classList.add(\"hidden\");\r\n  dropShadow.classList.add(\"hidden\");\r\n});\r\n\r\ndropShadow.addEventListener(\"click\", () => {\r\n  notificationModal.classList.add(\"hidden\");\r\n  dropShadow.classList.add(\"hidden\");\r\n});\r\n\r\n// Ask for permission\r\nnotifPush.addEventListener(\"click\", async () => {\r\n  await Notification.requestPermission().then((perm) => {\r\n    if (perm === \"granted\") {\r\n      allowContainer.classList.add(\"opacityOut\");\r\n      setTimeout(() => {\r\n        allowContainer.classList.add(\"hidden\");\r\n        inputContainer.classList.remove(\"hidden\");\r\n      }, 2000);\r\n    }\r\n  });\r\n});\r\n\r\n// User input search\r\ncoinSearch.addEventListener(\"click\", () => {\r\n  fetchCoinAlert();\r\n});\r\n\r\nlet fetchedCoinPrice = 0;\r\nlet expectedCoinPrice = 0;\r\nlet userQueriedCoinName = \"\";\r\nlet userSpecifiedChange = \"\";\r\n\r\n// Fetch data\r\nconst fetchCoinAlert = async () => {\r\n  try {\r\n    noCoinErrorTxt.classList.add(\"inv\");\r\n    const response = await fetch(\r\n      `https://api.coingecko.com/api/v3/simple/price?ids=${userInput.value}&vs_currencies=usd`\r\n    );\r\n    const data = await response.json();\r\n    userQueriedCoinName = userInput.value;\r\n    fetchedCoinPrice = data[userInput.value].usd;\r\n    coinFetchPrice.textContent = `$${data[userInput.value].usd}`;\r\n    coinFetchTitle.textContent =\r\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1);\r\n    coinFetchTitle2.textContent =\r\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1);\r\n    inputContainer.classList.add(\"opacityOut\");\r\n    coinNameTitle.textContent = `If ${\r\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n    }'s price`;\r\n    console.log(fetchedCoinPrice);\r\n    setTimeout(() => {\r\n      inputContainer.classList.add(\"hidden\");\r\n      resultContainer.classList.remove(\"hidden\");\r\n    }, 2000);\r\n  } catch (err) {\r\n    noCoinErrorTxt.classList.remove(\"inv\");\r\n  }\r\n};\r\n\r\nlet positiveBool = \"\";\r\n\r\n// Calculate price\r\ncalculatePrice.addEventListener(\"click\", () => {\r\n  if (incDecToggle.value === \"Increases\") {\r\n    let calculateValue = (+userPercentageInput.value + 100) / 100;\r\n    let outputValue = calculateValue * fetchedCoinPrice;\r\n    expectedCoinPrice = outputValue;\r\n    userSpecifiedChange = \"surged past your target!\";\r\n    targetPriceExpected.textContent = `$${+outputValue.toFixed(2)}`;\r\n    alertButton.classList.remove(\"hidden\");\r\n    positiveBool = true;\r\n    return;\r\n  }\r\n  if (incDecToggle.value === \"Decreases\") {\r\n    let calculateValue = (100 - +userPercentageInput.value) / 100;\r\n    let outputValue = calculateValue * fetchedCoinPrice;\r\n    expectedCoinPrice = outputValue;\r\n    userSpecifiedChange = \"dropped past your target!\";\r\n    targetPriceExpected.textContent = `$${+outputValue.toFixed(2)}`;\r\n    alertButton.classList.remove(\"hidden\");\r\n    positiveBool = false;\r\n    return;\r\n  }\r\n});\r\n\r\nlet fetchedPrice = 0;\r\n\r\nconst intervalFetcher = () => {\r\n  setInterval(async () => {\r\n    try {\r\n      if (positiveBool) {\r\n        if (fetchedPrice < expectedCoinPrice) {\r\n          const response = await fetch(\r\n            `https://api.coingecko.com/api/v3/simple/price?ids=${userQueriedCoinName}&vs_currencies=usd`\r\n          );\r\n          const data = await response.json();\r\n          fetchedPrice = data[userQueriedCoinName].usd;\r\n          console.log(fetchedPrice);\r\n          console.log(\"Fetched Plus\");\r\n          checkResultsMin();\r\n        }\r\n      }\r\n\r\n      if (!positiveBool && positiveBool !== \"\") {\r\n        const response = await fetch(\r\n          `https://api.coingecko.com/api/v3/simple/price?ids=${userQueriedCoinName}&vs_currencies=usd`\r\n        );\r\n        const data = await response.json();\r\n        fetchedPrice = data[userQueriedCoinName].usd;\r\n        console.log(fetchedPrice);\r\n        console.log(\"Fetched Min\");\r\n        checkResultsPlus();\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }, 10000);\r\n};\r\n// If expected price is lower\r\nconst checkResultsMin = () => {\r\n  if (fetchedPrice !== 0 && fetchedPrice > expectedCoinPrice) {\r\n    alert(\"Alert!\");\r\n    const notification = new Notification(\r\n      `${\r\n        userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n      }'s price ${userSpecifiedChange}`,\r\n      {\r\n        body: `${\r\n          userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n        }'s price is $${expectedCoinPrice}`,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n// If expected price is higher\r\nconst checkResultsPlus = () => {\r\n  if (fetchedPrice !== 0 && fetchedPrice < expectedCoinPrice) {\r\n    alert(\"Alert!\");\r\n    const notification = new Notification(\r\n      `${\r\n        userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n      }'s price ${userSpecifiedChange}`,\r\n      {\r\n        body: `${\r\n          userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n        }'s price is $${expectedCoinPrice}`,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\nconst fadeModalsOut = (modal, time) => {\r\n  setTimeout(() => {\r\n    modal.classList.add(\"fadeModalOut\");\r\n  }, time);\r\n};\r\n\r\n// Launch alert\r\nalertButton.addEventListener(\"click\", () => {\r\n  intervalFetcher();\r\n  fadeModalsOut(upperModal, 300);\r\n  fadeModalsOut(sideModal, 600);\r\n  fadeModalsOut(lowerModal, 900);\r\n  fadeModalsOut(notificationModal, 1400);\r\n  setTimeout(() => {\r\n    notificationModal.classList.add(\"hidden\");\r\n    notificationModal.classList.remove(\"fadeModalOut\");\r\n    upperModal.classList.remove(\"fadeModalOut\");\r\n    sideModal.classList.remove(\"fadeModalOut\");\r\n    lowerModal.classList.remove(\"fadeModalOut\");\r\n    dropShadow.classList.add(\"hidden\");\r\n    inputContainer.classList.add(\"hidden\");\r\n    resultContainer.classList.add(\"hidden\");\r\n    inputContainer.classList.remove(\"hidden\");\r\n    if (Notification.permission !== \"granted\") {\r\n      allowContainer.classList.remove(\"hidden\");\r\n    }\r\n    allowContainer.classList.remove(\"opacityOut\");\r\n    inputContainer.classList.remove(\"opacityOut\");\r\n    userInput.value = \"\";\r\n    coinFetchPrice.textContent = \"\";\r\n    coinFetchTitle.textContent = \"\";\r\n    coinFetchTitle2.textContent = \"\";\r\n    coinNameTitle.textContent = \"\";\r\n    targetPriceExpected.textContent = \"\";\r\n    userPercentageInput.value = \"\";\r\n    incDecToggle.value = \"Increases\";\r\n  }, 1400);\r\n  setTimeout(() => {\r\n    messageModal.classList.remove(\"hidden\");\r\n    messageModal.classList.add(\"msgAnimate\");\r\n  }, 1600);\r\n  setTimeout(() => {\r\n    messageModal.classList.add(\"hidden\");\r\n  }, 5600);\r\n});\r\n"],"names":["$4c1667d0c42917ff$var$manageNotification","document","querySelector","$4c1667d0c42917ff$var$notificationModal","$4c1667d0c42917ff$var$dropShadow","$4c1667d0c42917ff$var$closeNotifModal","$4c1667d0c42917ff$var$notifPush","$4c1667d0c42917ff$var$coinSearch","$4c1667d0c42917ff$var$coinFetchPrice","$4c1667d0c42917ff$var$coinFetchTitle","$4c1667d0c42917ff$var$coinFetchTitle2","$4c1667d0c42917ff$var$userInput","$4c1667d0c42917ff$var$allowContainer","$4c1667d0c42917ff$var$inputContainer","$4c1667d0c42917ff$var$resultContainer","$4c1667d0c42917ff$var$noCoinErrorTxt","$4c1667d0c42917ff$var$coinNameTitle","$4c1667d0c42917ff$var$targetPriceExpected","$4c1667d0c42917ff$var$calculatePrice","$4c1667d0c42917ff$var$userPercentageInput","$4c1667d0c42917ff$var$incDecToggle","$4c1667d0c42917ff$var$alertButton","$4c1667d0c42917ff$var$messageModal","$4c1667d0c42917ff$var$upperModal","$4c1667d0c42917ff$var$lowerModal","$4c1667d0c42917ff$var$sideModal","window","addEventListener","Notification","permission","classList","add","remove","async","requestPermission","then","perm","setTimeout","$4c1667d0c42917ff$var$fetchCoinAlert","$4c1667d0c42917ff$var$fetchedCoinPrice","$4c1667d0c42917ff$var$expectedCoinPrice","$4c1667d0c42917ff$var$userQueriedCoinName","$4c1667d0c42917ff$var$userSpecifiedChange","response","fetch","value","data","json","usd","textContent","charAt","toUpperCase","slice","console","log","err","$4c1667d0c42917ff$var$positiveBool","outputValue","toFixed","outputValue1","$4c1667d0c42917ff$var$fetchedPrice","$4c1667d0c42917ff$var$checkResultsMin","alert","body","$4c1667d0c42917ff$var$checkResultsPlus","$4c1667d0c42917ff$var$fadeModalsOut","modal","time","setInterval","response1","data1"],"version":3,"file":"index.67dd95ff.js.map"}