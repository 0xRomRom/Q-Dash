const e=document.querySelector(".search-button"),t=document.querySelector(".search-modal"),c=document.querySelector(".search-inner-modal"),s=document.querySelector(".search-inner-result"),o=document.querySelector(".search-modal-title"),r=document.querySelector(".dropshadow-srch"),a=document.querySelector(".light-close4"),n=document.querySelector(".search-coin-input"),d=document.querySelector(".search-coin-btn"),i=document.querySelector(".cant-find"),l=document.querySelector(".cntr-sr-btn"),u=document.querySelector(".search-back"),p=document.querySelectorAll(".out"),m=document.querySelector(".res-img"),h=document.querySelector(".up-down"),g=document.querySelector(".up-down2"),y=document.querySelector(".fluctuate"),L=document.querySelector(".coin-title"),S=document.querySelector(".fetched-rank"),v=document.querySelector(".circ-l"),_=document.querySelector(".price-perc-change"),x=document.querySelector(".total-sup"),C=document.querySelector(".mark-price"),f=document.querySelector(".mark-price-high"),$=document.querySelector(".mark-price-low"),q=document.querySelector(".box-s2"),b=document.querySelector(".ath-date"),k=document.querySelector(".circ-count"),O=document.querySelector(".circ-perc-box"),w=document.querySelector(".circ-amount-box"),D=["January","February","March","April","May","June","July","August","September","October","November","December"];let F;O.addEventListener("mouseover",(()=>{w.classList.remove("inv")})),O.addEventListener("mouseleave",(()=>{w.classList.add("inv")})),u.addEventListener("click",(()=>{c.classList.remove("rotateDiv"),s.classList.remove("fadeDivIn"),s.classList.add("rotateDivBack"),o.classList.add("fadeOut"),n.classList.add("fadeOut"),l.classList.add("fadeOut"),n.value="",u.classList.add("hidden"),h.classList.add("hidden"),g.classList.add("hidden"),p.forEach((e=>{e.classList.add("fadeOut")})),setTimeout((()=>{o.classList.remove("fadeOut"),n.classList.remove("fadeOut"),l.classList.remove("fadeOut"),o.classList.add("fadeDivIn"),n.classList.add("fadeDivIn"),l.classList.add("fadeDivIn"),s.classList.remove("rotateDivBack"),s.classList.add("hidden"),y.textContent="",L.textContent="",S.textContent="",v.textContent="",_.textContent="",x.textContent="",C.textContent="",f.textContent="",$.textContent="",b.textContent="",k.textContent="",n.focus(),p.forEach((e=>{e.classList.remove("fadeOut"),e.classList.remove("bg-up"),e.classList.remove("bg-down")}))}),400)})),e.addEventListener("click",(()=>{r.classList.remove("hidden"),r.classList.remove("fadeOut"),t.classList.remove("fadeOut"),t.classList.remove("hidden"),t.classList.remove("fadeOut"),t.classList.remove("hidden"),n.focus()})),r.addEventListener("click",(()=>{r.classList.add("fadeOut"),t.classList.add("fadeOut"),setTimeout((()=>{r.classList.add("hidden"),t.classList.add("hidden")}),500)})),a.addEventListener("click",(()=>{r.classList.add("fadeOut"),t.classList.add("fadeOut"),setTimeout((()=>{r.classList.add("hidden"),t.classList.add("hidden")}),500)})),d.addEventListener("click",(()=>{U()})),n.addEventListener("keyup",(e=>{"Enter"===e.key&&U()}));const U=async()=>{let e=n.value.toLowerCase();F=e;try{const t=await fetch(`https://api.coingecko.com/api/v3/search?query=${e}`),r=await t.json();if(0===r.coins.length)return void i.classList.remove("inv");E(r),c.classList.add("rotateDiv"),u.classList.remove("hidden"),i.classList.add("inv"),o.classList.add("fadeOut"),n.classList.add("fadeOut"),l.classList.add("fadeOut"),s.classList.add("fadeDivIn"),setTimeout((()=>{s.classList.remove("hidden")}),500)}catch(e){console.log(e)}},E=e=>{for(let t of Object.values(e.coins))if(t.symbol.toLowerCase()===F||t.name.toLowerCase()===F)return void B(t.id)},B=async e=>{try{const t=await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${e}&order=market_cap_desc&per_page=100&page=1&sparkline=false`),c=await t.json(),s=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${e}&vs_currencies=usd&include_24hr_change=true`),o=(await s.json())[e].usd_24h_change.toString().slice(0,4);A(c[0],o)}catch(e){console.log(e)}},A=(e,t)=>{let c=e.ath_date.slice(0,10);console.log(e.circulating_supply/e.total_supply),console.log(e.circulating_supply),v.textContent=e.circulating_supply/e.total_supply==1/0?"∞":`${(e.circulating_supply/e.total_supply).toString().slice(2,4)}%`,e.circulating_supply/e.total_supply==1&&(v.textContent="∞"),m.src=e.image,L.textContent=e.name,S.textContent=`#${null===e.market_cap_rank?"N/A":e.market_cap_rank}`,_.textContent=`${t>=.01?"+":""}${t}% $${e.symbol.toUpperCase()} ${"$"+t>=.01?"+":""}${e.current_price.toString().length>=8?"":"("+e.price_change_24h.toString().slice(0,6)+" USD)"}`,x.textContent=null===e.total_supply?"∞":e.total_supply.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e.symbol.toUpperCase(),e.current_price.toString().length<=7?(C.textContent=`$${e.current_price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} USD`,f.textContent=`$${e.current_price>1?e.high_24h.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e.high_24h.toFixed(5).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} USD`,$.textContent=`$${e.current_price>1?e.low_24h.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e.low_24h.toFixed(5).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} USD`,k.textContent=`${e.circulating_supply.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} $${e.symbol.toUpperCase()}`):(C.textContent=`$${e.current_price.toString()} USD`,f.textContent=`$${e.current_price>1?e.high_24h.toFixed(2).toString():e.high_24h.toFixed(5).toString()} USD`,$.textContent=`$${e.current_price>1?e.low_24h.toFixed(2).toString():e.low_24h.toFixed(5).toString()} USD`,k.textContent=`${e.circulating_supply.toFixed(0).toString()} $${e.symbol.toUpperCase()}`),b.textContent=`${(e=>{let t=+e.slice(5,7);return D[t-1]})(c)} ${e.ath_date.slice(8,10)} ${e.ath_date.slice(0,4)}`,+t>=.01&&(y.textContent="UP",y.style.backgroundColor="rgb(79, 159, 88)",_.style.color="rgb(118, 219, 140)",h.classList.remove("hidden"),g.classList.add("hidden"),q.classList.add("bg-up")),+t<0&&(y.style.backgroundColor="rgb(188, 67, 63)",y.textContent="DOWN",_.style.color="red",g.classList.remove("hidden"),h.classList.add("hidden"),q.classList.add("bg-down")),0===e.circulating_supply&&(k.textContent="N/A",v.textContent="N/A")};
//# sourceMappingURL=index.d9b8e7b2.js.map
