{"mappings":"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","sources":["scripts/manageNotifications.js"],"sourcesContent":["\"use strict\";\n\nconst manageNotification = document.querySelector(\".man-notif\");\nconst notificationModal = document.querySelector(\".notification-box\");\nconst dropShadow = document.querySelector(\".dropshadow\");\nconst closeNotifModal = document.querySelector(\".light-close3\");\nconst notifPush = document.querySelector(\".notif-push\");\nconst coinSearch = document.querySelector(\".coin-search\");\nconst coinFetchPrice = document.querySelector(\".coin-fetch-output\");\nconst coinFetchTitle = document.querySelector(\".coin-fetch-title\");\nconst coinFetchTitle2 = document.querySelector(\".target-price-title\");\nconst userInput = document.querySelector(\".user-coin-query\");\nconst allowContainer = document.querySelector(\".notif-anim-container\");\nconst inputContainer = document.querySelector(\".notif-anim-container2\");\nconst resultContainer = document.querySelector(\".notif-anim-container3\");\nconst noCoinErrorTxt = document.querySelector(\".error-text2\");\nconst coinNameTitle = document.querySelector(\".state-coinname\");\nconst targetPriceTxt = document.querySelector(\".target-price-title\");\nconst targetPriceExpected = document.querySelector(\".target-price-expected\");\nconst calculatePrice = document.querySelector(\".calculate-price\");\nconst userPercentageInput = document.querySelector(\".user-percentage-input\");\nconst incDecToggle = document.querySelector(\".coin-param\");\nconst alertButton = document.querySelector(\".alert-button\");\nconst messageModal = document.querySelector(\".msg-modal\");\nconst notWorking = document.querySelector(\".not-working\");\nconst resetImg = document.querySelector(\".reset-img\");\n\nconst upperModal = document.querySelector(\".result-upper\");\nconst lowerModal = document.querySelector(\".result-lower\");\nconst sideModal = document.querySelector(\".result-setup-box\");\n\nconst enterNumber = document.querySelector(\".enter-number\");\n\nwindow.addEventListener(\"load\", () => {\n  enterNumber.classList.add(\"inv\");\n  if (Notification.permission === \"granted\") {\n    allowContainer.classList.add(\"hidden\");\n    inputContainer.classList.remove(\"hidden\");\n  }\n});\n\n// Open notification modal\nmanageNotification.addEventListener(\"click\", () => {\n  notificationModal.classList.remove(\"hidden\");\n  notificationModal.classList.remove(\"fadeOut\");\n  dropShadow.classList.remove(\"hidden\");\n  dropShadow.classList.remove(\"fadeOut\");\n});\n\n// Close notification modal\ncloseNotifModal.addEventListener(\"click\", () => {\n  notificationModal.classList.add(\"fadeOut\");\n  dropShadow.classList.add(\"fadeOut\");\n  resetImg.classList.add(\"hidden\");\n  setTimeout(() => {\n    notificationModal.classList.add(\"hidden\");\n    dropShadow.classList.add(\"hidden\");\n  }, 500);\n});\n\ndropShadow.addEventListener(\"click\", () => {\n  notificationModal.classList.add(\"fadeOut\");\n  dropShadow.classList.add(\"fadeOut\");\n  resetImg.classList.add(\"hidden\");\n  setTimeout(() => {\n    notificationModal.classList.add(\"hidden\");\n    dropShadow.classList.add(\"hidden\");\n  }, 500);\n});\n\n// Ask for permission\nnotifPush.addEventListener(\"click\", async () => {\n  await Notification.requestPermission().then((perm) => {\n    if (perm === \"granted\") {\n      allowContainer.classList.add(\"opacityOut\");\n      resetImg.classList.add(\"hidden\");\n      setTimeout(() => {\n        allowContainer.classList.add(\"hidden\");\n        inputContainer.classList.remove(\"hidden\");\n      }, 2000);\n    }\n  });\n});\n\n// User input search\n\nuserInput.addEventListener(\"keyup\", (e) => {\n  if (e.key === \"Enter\") {\n    fetchCoinAlert();\n  }\n});\n\ncoinSearch.addEventListener(\"click\", () => {\n  fetchCoinAlert();\n});\n\nlet fetchedCoinPrice = 0;\nlet expectedCoinPrice = 0;\nlet userQueriedCoinName = \"\";\nlet userSpecifiedChange = \"\";\n\n// Fetch data\nconst fetchCoinAlert = async () => {\n  try {\n    noCoinErrorTxt.classList.add(\"inv\");\n    const response = await fetch(\n      `https://api.coingecko.com/api/v3/simple/price?ids=${userInput.value}&vs_currencies=usd`\n    );\n    const data = await response.json();\n    userQueriedCoinName = userInput.value;\n    console.log(data[userInput.value].usd.toString().length);\n    fetchedCoinPrice = data[userInput.value].usd;\n    coinFetchPrice.textContent = `$${fetchedCoinPrice}`;\n    coinFetchTitle.textContent =\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1);\n    coinFetchTitle2.textContent =\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1);\n    inputContainer.classList.add(\"opacityOut\");\n    coinNameTitle.textContent = `If ${\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1)\n    }'s price`;\n    console.log(fetchedCoinPrice);\n    setTimeout(() => {\n      inputContainer.classList.add(\"hidden\");\n      resultContainer.classList.remove(\"hidden\");\n    }, 2000);\n  } catch (err) {\n    noCoinErrorTxt.classList.remove(\"inv\");\n  }\n};\n\nlet positiveBool = \"\";\n\n//Calculate Price\n\nconst priceCalculator = () => {\n  if (isNaN(userPercentageInput.value)) {\n    enterNumber.classList.remove(\"inv\");\n    return;\n  }\n  enterNumber.classList.add(\"inv\");\n\n  if (incDecToggle.value === \"Increases\") {\n    let calculateValue = (+userPercentageInput.value + 100) / 100;\n    let outputValue = calculateValue * fetchedCoinPrice;\n    expectedCoinPrice = outputValue;\n    userSpecifiedChange = \"surged past your target!\";\n    targetPriceExpected.textContent = `$${+outputValue.toFixed(6)}`;\n    alertButton.classList.remove(\"hidden\");\n    positiveBool = true;\n    return;\n  }\n  if (incDecToggle.value === \"Decreases\") {\n    let calculateValue = (100 - +userPercentageInput.value) / 100;\n    let outputValue = calculateValue * fetchedCoinPrice;\n    expectedCoinPrice = outputValue;\n    userSpecifiedChange = \"dropped past your target!\";\n    targetPriceExpected.textContent = `$${+outputValue.toFixed(6)}`;\n    alertButton.classList.remove(\"hidden\");\n    positiveBool = false;\n    return;\n  }\n};\n\nuserPercentageInput.addEventListener(\"keyup\", (e) => {\n  if (e.key === \"Enter\") {\n    priceCalculator();\n  }\n});\n\ncalculatePrice.addEventListener(\"click\", priceCalculator);\n\nlet fetchedPrice = 0;\n\n// Fetch coin prices every 10 second\nconst intervalFetcher = () => {\n  setInterval(async () => {\n    try {\n      if (positiveBool) {\n        if (fetchedPrice < expectedCoinPrice) {\n          const response = await fetch(\n            `https://api.coingecko.com/api/v3/simple/price?ids=${userQueriedCoinName}&vs_currencies=usd`\n          );\n          const data = await response.json();\n          fetchedPrice = data[userQueriedCoinName].usd;\n          checkResultsMin();\n        }\n      }\n\n      if (!positiveBool && positiveBool !== \"\") {\n        const response = await fetch(\n          `https://api.coingecko.com/api/v3/simple/price?ids=${userQueriedCoinName}&vs_currencies=usd`\n        );\n        const data = await response.json();\n        fetchedPrice = data[userQueriedCoinName].usd;\n        checkResultsPlus();\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }, 10000);\n};\n\n// If expected price is lower\nconst checkResultsMin = () => {\n  if (fetchedPrice !== 0 && fetchedPrice > expectedCoinPrice) {\n    const notification = new Notification(\n      `${\n        userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\n      }'s price ${userSpecifiedChange}`,\n      {\n        body: `${\n          userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\n        }'s price is $${expectedCoinPrice}`,\n      }\n    );\n  }\n};\n\n// If expected price is higher\nconst checkResultsPlus = () => {\n  if (fetchedPrice !== 0 && fetchedPrice < expectedCoinPrice) {\n    const notification = new Notification(\n      `${\n        userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\n      }'s price ${userSpecifiedChange}`,\n      {\n        body: `${\n          userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\n        }'s price is $${expectedCoinPrice}`,\n      }\n    );\n  }\n};\n\nconst fadeModalsOut = (modal, time) => {\n  setTimeout(() => {\n    modal.classList.add(\"fadeModalOut\");\n  }, time);\n};\n\n// Launch alert\nalertButton.addEventListener(\"click\", () => {\n  intervalFetcher();\n  fadeModalsOut(upperModal, 300);\n  fadeModalsOut(sideModal, 600);\n  fadeModalsOut(lowerModal, 900);\n  fadeModalsOut(notificationModal, 1400);\n  setTimeout(() => {\n    notificationModal.classList.add(\"hidden\");\n    notificationModal.classList.remove(\"fadeModalOut\");\n    upperModal.classList.remove(\"fadeModalOut\");\n    sideModal.classList.remove(\"fadeModalOut\");\n    lowerModal.classList.remove(\"fadeModalOut\");\n    dropShadow.classList.add(\"hidden\");\n    inputContainer.classList.add(\"hidden\");\n    resultContainer.classList.add(\"hidden\");\n    inputContainer.classList.remove(\"hidden\");\n    if (Notification.permission !== \"granted\") {\n      allowContainer.classList.remove(\"hidden\");\n    }\n    allowContainer.classList.remove(\"opacityOut\");\n    inputContainer.classList.remove(\"opacityOut\");\n    userInput.value = \"\";\n    coinFetchPrice.textContent = \"\";\n    coinFetchTitle.textContent = \"\";\n    coinFetchTitle2.textContent = \"\";\n    coinNameTitle.textContent = \"\";\n    targetPriceExpected.textContent = \"\";\n    userPercentageInput.value = \"\";\n    incDecToggle.value = \"Increases\";\n  }, 1400);\n  setTimeout(() => {\n    messageModal.classList.remove(\"hidden\");\n    messageModal.classList.add(\"msgAnimate\");\n  }, 1600);\n  setTimeout(() => {\n    messageModal.classList.add(\"hidden\");\n  }, 5600);\n});\n\n// Open help image\nnotWorking.addEventListener(\"click\", () => {\n  resetImg.classList.toggle(\"hidden\");\n});\n"],"names":["$4c1667d0c42917ff$var$manageNotification","document","querySelector","$4c1667d0c42917ff$var$notificationModal","$4c1667d0c42917ff$var$dropShadow","$4c1667d0c42917ff$var$closeNotifModal","$4c1667d0c42917ff$var$notifPush","$4c1667d0c42917ff$var$coinSearch","$4c1667d0c42917ff$var$coinFetchPrice","$4c1667d0c42917ff$var$coinFetchTitle","$4c1667d0c42917ff$var$coinFetchTitle2","$4c1667d0c42917ff$var$userInput","$4c1667d0c42917ff$var$allowContainer","$4c1667d0c42917ff$var$inputContainer","$4c1667d0c42917ff$var$resultContainer","$4c1667d0c42917ff$var$noCoinErrorTxt","$4c1667d0c42917ff$var$coinNameTitle","$4c1667d0c42917ff$var$targetPriceExpected","$4c1667d0c42917ff$var$calculatePrice","$4c1667d0c42917ff$var$userPercentageInput","$4c1667d0c42917ff$var$incDecToggle","$4c1667d0c42917ff$var$alertButton","$4c1667d0c42917ff$var$messageModal","$4c1667d0c42917ff$var$notWorking","$4c1667d0c42917ff$var$resetImg","$4c1667d0c42917ff$var$upperModal","$4c1667d0c42917ff$var$lowerModal","$4c1667d0c42917ff$var$sideModal","$4c1667d0c42917ff$var$enterNumber","window","addEventListener","classList","add","Notification","permission","remove","setTimeout","async","requestPermission","then","perm","e","key","$4c1667d0c42917ff$var$fetchCoinAlert","$4c1667d0c42917ff$var$fetchedCoinPrice","$4c1667d0c42917ff$var$expectedCoinPrice","$4c1667d0c42917ff$var$userQueriedCoinName","$4c1667d0c42917ff$var$userSpecifiedChange","response","fetch","value","data","json","console","log","usd","toString","length","textContent","charAt","toUpperCase","slice","err","$4c1667d0c42917ff$var$positiveBool","$4c1667d0c42917ff$var$priceCalculator","isNaN","outputValue","toFixed","outputValue1","$4c1667d0c42917ff$var$fetchedPrice","$4c1667d0c42917ff$var$checkResultsMin","body","$4c1667d0c42917ff$var$checkResultsPlus","$4c1667d0c42917ff$var$fadeModalsOut","modal","time","setInterval","response1","data1","toggle"],"version":3,"file":"index.4b490c27.js.map"}