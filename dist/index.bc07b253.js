const e=document.querySelector(".search-button"),t=document.querySelector(".search-modal"),s=document.querySelector(".search-inner-modal"),c=document.querySelector(".search-inner-result"),a=document.querySelector(".search-modal-title"),o=document.querySelector(".dropshadow-srch"),r=document.querySelector(".light-close4"),d=document.querySelector(".search-coin-input"),n=document.querySelector(".search-coin-btn"),i=document.querySelector(".cant-find"),l=document.querySelector(".cntr-sr-btn"),u=document.querySelector(".search-back"),m=document.querySelectorAll(".out"),p=document.querySelector(".res-img"),h=document.querySelector(".up-down"),L=document.querySelector(".up-down2"),y=document.querySelector(".fluctuate"),v=document.querySelector(".coin-title"),g=document.querySelector(".fetched-rank"),S=document.querySelector(".circ-l"),f=document.querySelector(".price-perc-change"),_=document.querySelector(".total-sup"),x=document.querySelector(".mark-price"),C=document.querySelector(".mark-price-high"),q=document.querySelector(".mark-price-low"),b=document.querySelector(".box-s2"),k=document.querySelector(".ath-date"),$=document.querySelector(".circ-count"),O=document.querySelector(".circ-perc-box"),w=document.querySelector(".circ-amount-box"),D=["January","February","March","April","May","June","July","August","September","October","November","December"];let E;O.addEventListener("mouseover",(()=>{w.classList.remove("inv")})),O.addEventListener("mouseleave",(()=>{w.classList.add("inv")})),u.addEventListener("click",(()=>{s.classList.remove("rotateDiv"),c.classList.remove("fadeDivIn"),c.classList.add("rotateDivBack"),a.classList.add("fadeOut"),d.classList.add("fadeOut"),l.classList.add("fadeOut"),d.value="",u.classList.add("hidden"),h.classList.add("hidden"),L.classList.add("hidden"),m.forEach((e=>{e.classList.add("fadeOut")})),setTimeout((()=>{a.classList.remove("fadeOut"),d.classList.remove("fadeOut"),l.classList.remove("fadeOut"),a.classList.add("fadeDivIn"),d.classList.add("fadeDivIn"),l.classList.add("fadeDivIn"),c.classList.remove("rotateDivBack"),c.classList.add("hidden"),y.textContent="",v.textContent="",g.textContent="",S.textContent="",f.textContent="",_.textContent="",x.textContent="",C.textContent="",q.textContent="",k.textContent="",$.textContent="",d.focus(),m.forEach((e=>{e.classList.remove("fadeOut"),e.classList.remove("bg-up"),e.classList.remove("bg-down")}))}),400)})),e.addEventListener("click",(()=>{o.classList.remove("hidden"),o.classList.remove("fadeOut"),t.classList.remove("fadeOut"),t.classList.remove("hidden"),t.classList.remove("fadeOut"),t.classList.remove("hidden"),d.focus()})),o.addEventListener("click",(()=>{o.classList.add("fadeOut"),t.classList.add("fadeOut"),setTimeout((()=>{o.classList.add("hidden"),t.classList.add("hidden")}),500)})),r.addEventListener("click",(()=>{o.classList.add("fadeOut"),t.classList.add("fadeOut"),setTimeout((()=>{o.classList.add("hidden"),t.classList.add("hidden")}),500)})),n.addEventListener("click",(()=>{U()})),d.addEventListener("keyup",(e=>{"Enter"===e.key&&U()}));const U=async()=>{let e=d.value.toLowerCase();E=e;try{const t=await fetch(`https://api.coingecko.com/api/v3/search?query=${e}`),o=await t.json();if(0===o.coins.length)return void i.classList.remove("inv");F(o),s.classList.add("rotateDiv"),u.classList.remove("hidden"),i.classList.add("inv"),a.classList.add("fadeOut"),d.classList.add("fadeOut"),l.classList.add("fadeOut"),c.classList.add("fadeDivIn"),setTimeout((()=>{c.classList.remove("hidden")}),500)}catch(e){console.log(e)}},F=e=>{for(let t of Object.values(e.coins))if(t.symbol.toLowerCase()===E||t.name.toLowerCase()===E)return void I(t.id)},I=async e=>{try{const t=await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${e}&order=market_cap_desc&per_page=100&page=1&sparkline=false`),s=await t.json(),c=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${e}&vs_currencies=usd&include_24hr_change=true`),a=(await c.json())[e].usd_24h_change.toString().slice(0,4);j(s[0],a)}catch(e){console.log(e)}},j=(e,t)=>{let s=e.ath_date.slice(0,10);console.log(e.circulating_supply/e.total_supply),S.textContent=e.circulating_supply/e.total_supply==1/0?"∞":`${(e.circulating_supply/e.total_supply).toString().slice(2,4)}%`,e.circulating_supply/e.total_supply==1&&(S.textContent="∞"),p.src=e.image,v.textContent=e.name,g.textContent=`#${e.market_cap_rank}`,f.textContent=`${t>=.01?"+":""}${t}% $${e.symbol.toUpperCase()} ${"$"+t>=.01?"+":""}${e.current_price.toString().length>=8?"":"("+e.price_change_24h.toString().slice(0,6)+" USD)"}`,_.textContent=null===e.total_supply?"∞":e.total_supply.toFixed(0)+" "+e.symbol.toUpperCase(),x.textContent=`$${e.current_price} USD`,C.textContent=`$${e.current_price>1?e.high_24h.toFixed(2):e.high_24h.toFixed(5)} USD`,q.textContent=`$${e.current_price>1?e.low_24h.toFixed(2):e.low_24h.toFixed(5)} USD`,$.textContent=`${e.circulating_supply.toFixed(0)} $${e.symbol.toUpperCase()}`,k.textContent=`${(e=>{let t=+e.slice(5,7);return D[t-1]})(s)} ${e.ath_date.slice(8,10)} ${e.ath_date.slice(0,4)}`,+t>=.01&&(y.textContent="UP",y.style.backgroundColor="rgb(79, 159, 88)",f.style.color="rgb(118, 219, 140)",h.classList.remove("hidden"),L.classList.add("hidden"),b.classList.add("bg-up")),+t<0&&(y.style.backgroundColor="rgb(188, 67, 63)",y.textContent="DOWN",f.style.color="red",L.classList.remove("hidden"),h.classList.add("hidden"),b.classList.add("bg-down"))};
//# sourceMappingURL=index.bc07b253.js.map
