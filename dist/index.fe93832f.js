const e=document.querySelector(".converter"),t=document.querySelector(".converter-div"),c=document.querySelector(".dropshadow-conv"),s=document.querySelector(".conv-close"),o=document.querySelector(".conv-input-box"),d=document.querySelector(".conv-img-top"),n=document.querySelector(".conv-img-bot"),i=document.querySelector(".conv-top-btn"),r=document.querySelector(".conv-bot-btn"),a=document.querySelector(".conv-top"),l=document.querySelector(".conv-bot"),u=document.querySelector(".search-top"),v=document.querySelector(".search-top-btn"),m=document.querySelector(".search-bot-btn"),h=document.querySelector(".top-search-res-img"),L=document.querySelector(".bot-search-res-img"),y=document.querySelector(".search-bot"),p=document.querySelector(".top-input-conv"),g=document.querySelector(".bot-input-conv"),k=document.querySelector(".top-search-conv"),q=document.querySelector(".bot-search-conv"),S=document.querySelector(".convert-btn"),b=document.querySelector(".swap-conversion");e.addEventListener("click",(()=>{c.classList.remove("hidden"),t.classList.remove("hidden")})),c.addEventListener("click",(()=>{c.classList.add("hidden"),t.classList.add("hidden")})),s.addEventListener("click",(()=>{c.classList.add("hidden"),t.classList.add("hidden")})),i.addEventListener("click",(()=>{p.classList.add("hidden"),k.classList.remove("hidden"),v.classList.remove("hidden"),u.focus(),h.classList.add("hidden"),h.src=""})),r.addEventListener("click",(()=>{g.classList.add("hidden"),q.classList.remove("hidden"),m.classList.remove("hidden"),y.focus(),L.classList.add("hidden"),L.src=""})),o.addEventListener("click",(e=>{"conv-input-box"===e.target.classList[0]&&(console.log(e.target.classList[0]),p.classList.remove("hidden"),k.classList.add("hidden"),g.classList.remove("hidden"),q.classList.add("hidden"))})),a.addEventListener("click",(()=>{g.classList.remove("hidden"),q.classList.add("hidden")})),l.addEventListener("click",(()=>{p.classList.remove("hidden"),k.classList.add("hidden")})),v.addEventListener("click",(()=>{_()})),u.addEventListener("keyup",(e=>{"Enter"===e.key&&_()}));let f,w="",E=0;const _=async()=>{let e=u.value.toLowerCase()||"bitcoin";f=e;try{const t=await fetch(`https://api.coingecko.com/api/v3/search?query=${e}`),c=await t.json();if(0===c.coins.length)return void alert("No result, please try again");x(c)}catch(e){console.log(e)}},x=e=>{for(let t of Object.values(e.coins))if(t.symbol.toLowerCase()===f||t.name.toLowerCase()===f)return void j(t.id)},j=async e=>{try{const t=await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${e}&order=market_cap_desc&per_page=100&page=1&sparkline=false`),c=await t.json();u.value="",v.classList.add("hidden"),h.classList.remove("hidden"),h.src=c[0].image,w=c[0].image,E=c[0].current_price,d.src=w,p.classList.remove("hidden"),k.classList.add("hidden"),a.value=""}catch(e){console.log(e)}};_();let C,F="",$=0;m.addEventListener("click",(()=>{N()})),y.addEventListener("keyup",(e=>{"Enter"===e.key&&N()}));const N=async()=>{let e=y.value.toLowerCase()||"bitcoin";C=e;try{const t=await fetch(`https://api.coingecko.com/api/v3/search?query=${e}`),c=await t.json();if(0===c.coins.length)return void alert("No result, please try again");O(c)}catch(e){console.log(e)}},O=e=>{for(let t of Object.values(e.coins))if(t.symbol.toLowerCase()===C||t.name.toLowerCase()===C)return void z(t.id)},z=async e=>{try{const t=await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${e}&order=market_cap_desc&per_page=100&page=1&sparkline=false`),c=await t.json();console.log(c[0]),y.value="",m.classList.add("hidden"),L.classList.remove("hidden"),L.src=c[0].image,F=c[0].image,$=c[0].current_price,n.src=F,g.classList.remove("hidden"),q.classList.add("hidden"),l.value=""}catch(e){console.log(e)}};N(),S.addEventListener("click",(()=>{if(""===a.value)return;const e=+a.value*E/$;l.value=e>.1?e.toFixed(3):e.toFixed(6)}));let A=!1;b.addEventListener("click",(()=>{if(A){if(A){let e=w,t=F,c=$;$=E,E=c,d.src=e,n.src=t,A=!1;const s=+a.value*E/$;l.value=s>.1?s.toFixed(3):s.toFixed(6)}}else{let e=w,t=F,c=$;$=E,E=c,d.src=t,n.src=e,A=!0;const s=+a.value*E/$;l.value=s>.1?s.toFixed(3):s.toFixed(6)}}));
//# sourceMappingURL=index.fe93832f.js.map
