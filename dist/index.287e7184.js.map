{"mappings":"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","sources":["scripts/watchList.js"],"sourcesContent":["\"use strict\";\r\n\r\n// const sendData = fetch(\r\n//   `https://qdash-3fe95-default-rtdb.europe-west1.firebasedatabase.app/${getStorage}.json`,\r\n//   {\r\n//     method: \"POST\",\r\n//     body: JSON.stringify(someInput.value),\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//   }\r\n// );\r\n\r\nconst watchListButton = document.querySelector(\".watchlist\");\r\nconst watchListClose = document.querySelector(\".watch-close\");\r\nconst watchListDiv = document.querySelector(\".watchlist-div\");\r\nconst dropShadow = document.querySelector(\".dropshadow\");\r\nconst viewWatchlist = document.querySelector(\".view-watchlist\");\r\nconst watchListBox = document.querySelector(\".watchlist-box\");\r\nconst viewAssets = document.querySelector(\".view-assets\");\r\nconst assetsBox = document.querySelector(\".assets-box\");\r\nconst addItemToWatchlist = document.querySelector(\".add-to-watchlist\");\r\nconst modalDropShadow = document.querySelector(\".modal-dropshadow\");\r\nconst closeSearchModal = document.querySelector(\".inner-search-close\");\r\nconst addItemDiv = document.querySelector(\".add-item-div\");\r\nconst searchInputButton = document.querySelector(\".add-search-button\");\r\nconst searchCoinInput = document.querySelector(\".coin-search-input\");\r\nconst noCoinFoundTxt = document.querySelector(\".no-search-res\");\r\nconst noCoinFoundTxt2 = document.querySelector(\".no-search-res2\");\r\nconst coinResultLogo = document.querySelector(\".coin-result-logo\");\r\nconst searchResultTitle = document.querySelector(\".search-res-title\");\r\nconst addToWatchList = document.querySelector(\".item-result-lower\");\r\nconst loadSpinner = document.querySelector(\".lds-ripple\");\r\n\r\n// Toggle to watchlist view\r\nviewWatchlist.addEventListener(\"click\", () => {\r\n  viewWatchlist.classList.remove(\"fadeColorOut\");\r\n  viewWatchlist.classList.add(\"fadeColorIn\");\r\n  viewAssets.classList.add(\"fadeColorOut\");\r\n  watchListBox.classList.remove(\"hidden\");\r\n  watchListBox.classList.add(\"fadeBoxIn\");\r\n  assetsBox.classList.add(\"hidden\");\r\n\r\n  setTimeout(() => {\r\n    watchListBox.classList.remove(\"fadeBoxIn\");\r\n  }, 500);\r\n});\r\n\r\n// Toggle to assets view\r\nviewAssets.addEventListener(\"click\", () => {\r\n  viewAssets.classList.remove(\"fadeColorOut\");\r\n  viewAssets.classList.add(\"fadeColorIn\");\r\n  viewWatchlist.classList.add(\"fadeColorOut\");\r\n  assetsBox.classList.remove(\"hidden\");\r\n  assetsBox.classList.add(\"fadeBoxIn\");\r\n  //   watchListBox.classList.add(\"fadeBoxOut\");\r\n\r\n  watchListBox.classList.add(\"hidden\");\r\n  //   watchListBox.classList.remove(\"fadeBoxOut\");\r\n});\r\n\r\n// Open watchlist modal\r\nwatchListButton.addEventListener(\"click\", () => {\r\n  const getStorage = localStorage.getItem(\"loggedIn\");\r\n  if (!getStorage) {\r\n    window.location.href = \"https://www.qdash.net/login.html\";\r\n  } else {\r\n    watchListDiv.classList.remove(\"hidden\");\r\n    dropShadow.classList.remove(\"hidden\");\r\n  }\r\n});\r\n\r\n// Close watchlist modal\r\ndropShadow.addEventListener(\"click\", () => {\r\n  watchListDiv.classList.add(\"hidden\");\r\n  dropShadow.classList.add(\"hidden\");\r\n});\r\n\r\nwatchListClose.addEventListener(\"click\", () => {\r\n  watchListDiv.classList.add(\"hidden\");\r\n  dropShadow.classList.add(\"hidden\");\r\n});\r\n\r\n// Open search modal\r\naddItemToWatchlist.addEventListener(\"click\", () => {\r\n  addItemDiv.classList.remove(\"hidden\");\r\n  modalDropShadow.classList.remove(\"hidden\");\r\n  searchCoinInput.focus();\r\n});\r\n\r\n// Close search modal\r\nmodalDropShadow.addEventListener(\"click\", () => {\r\n  addItemDiv.classList.add(\"hidden\");\r\n  modalDropShadow.classList.add(\"hidden\");\r\n});\r\n\r\ncloseSearchModal.addEventListener(\"click\", () => {\r\n  addItemDiv.classList.add(\"hidden\");\r\n  modalDropShadow.classList.add(\"hidden\");\r\n});\r\n\r\n// Used to store user inserted search value\r\nlet userValue;\r\n\r\n// Search for user input (1/3)\r\nconst coinSearcher = async () => {\r\n  noCoinFoundTxt2.classList.add(\"hidden\");\r\n  if (searchCoinInput.value === \"\") {\r\n    noCoinFoundTxt2.classList.remove(\"hidden\");\r\n    return;\r\n  }\r\n  loadSpinner.classList.remove(\"hidden\");\r\n  addToWatchList.classList.add(\"hidden\");\r\n  let searchValue = searchCoinInput.value.toLowerCase();\r\n  userValue = searchValue;\r\n  noCoinFoundTxt.classList.add(\"hidden\");\r\n  const response = await fetch(\r\n    `https://api.coingecko.com/api/v3/search?query=${searchValue}`\r\n  );\r\n  const data = await response.json();\r\n  if (data.coins.length === 0) {\r\n    noCoinFoundTxt.classList.remove(\"hidden\");\r\n    return;\r\n  } else {\r\n    nameChecker(data);\r\n    console.log(data);\r\n  }\r\n};\r\n\r\n// Check for match and return right api-id (2/3)\r\nconst nameChecker = (data) => {\r\n  for (let value of Object.values(data.coins)) {\r\n    if (\r\n      value.symbol.toLowerCase() === userValue ||\r\n      value.name.toLowerCase() === userValue\r\n    ) {\r\n      dataFetcher(value.id);\r\n      return;\r\n    }\r\n  }\r\n};\r\n\r\n// Re-fetching coin and displaying result (3/3)\r\nconst dataFetcher = async (id) => {\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${id}&order=market_cap_desc&per_page=100&page=1&sparkline=false`\r\n    );\r\n    const data = await response.json();\r\n\r\n    const response3 = await fetch(\r\n      `https://api.coingecko.com/api/v3/coins/${id}`\r\n    );\r\n    const data2 = await response3.json();\r\n    console.log(data[0]);\r\n    console.log(data2);\r\n    renderUI(data[0], data2);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst renderUI = (data1, data2) => {\r\n  coinResultLogo.src = data1.image;\r\n  searchResultTitle.textContent = data1.name;\r\n  loadSpinner.classList.add(\"hidden\");\r\n  addToWatchList.classList.remove(\"hidden\");\r\n  searchCoinInput.value = \"\";\r\n};\r\n\r\n// Search coin\r\nsearchInputButton.addEventListener(\"click\", coinSearcher);\r\n\r\n// Search by enter key\r\nsearchCoinInput.addEventListener(\"keyup\", (e) => {\r\n  if (e.key === \"Enter\") {\r\n    coinSearcher();\r\n  }\r\n});\r\n\r\n// addToWatchList.addEventListener(\"click\", coinSearcher);\r\n"],"names":["$e6be557ecb4c44da$var$watchListButton","document","querySelector","$e6be557ecb4c44da$var$watchListClose","$e6be557ecb4c44da$var$watchListDiv","$e6be557ecb4c44da$var$dropShadow","$e6be557ecb4c44da$var$viewWatchlist","$e6be557ecb4c44da$var$watchListBox","$e6be557ecb4c44da$var$viewAssets","$e6be557ecb4c44da$var$assetsBox","$e6be557ecb4c44da$var$addItemToWatchlist","$e6be557ecb4c44da$var$modalDropShadow","$e6be557ecb4c44da$var$closeSearchModal","$e6be557ecb4c44da$var$addItemDiv","$e6be557ecb4c44da$var$searchInputButton","$e6be557ecb4c44da$var$searchCoinInput","$e6be557ecb4c44da$var$noCoinFoundTxt","$e6be557ecb4c44da$var$noCoinFoundTxt2","$e6be557ecb4c44da$var$coinResultLogo","$e6be557ecb4c44da$var$searchResultTitle","$e6be557ecb4c44da$var$addToWatchList","$e6be557ecb4c44da$var$loadSpinner","$e6be557ecb4c44da$var$userValue","addEventListener","classList","remove","add","setTimeout","localStorage","getItem","window","location","href","focus","$e6be557ecb4c44da$var$coinSearcher","async","value","searchValue","toLowerCase","response","fetch","data","json","coins","length","$e6be557ecb4c44da$var$nameChecker","console","log","Object","values","symbol","name","$e6be557ecb4c44da$var$dataFetcher","id","response3","data2","$e6be557ecb4c44da$var$renderUI","err","data1","src","image","textContent","e","key"],"version":3,"file":"index.287e7184.js.map"}