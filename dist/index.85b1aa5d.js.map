{"mappings":"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","sources":["scripts/manageNotifications.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst manageNotification = document.querySelector(\".man-notif\");\r\nconst notificationModal = document.querySelector(\".notification-box\");\r\nconst dropShadow = document.querySelector(\".dropshadow\");\r\nconst closeNotifModal = document.querySelector(\".light-close3\");\r\nconst notifPush = document.querySelector(\".notif-push\");\r\nconst coinSearch = document.querySelector(\".coin-search\");\r\nconst coinFetchPrice = document.querySelector(\".coin-fetch-output\");\r\nconst coinFetchTitle = document.querySelector(\".coin-fetch-title\");\r\nconst coinFetchTitle2 = document.querySelector(\".target-price-title\");\r\nconst userInput = document.querySelector(\".user-coin-query\");\r\nconst allowContainer = document.querySelector(\".notif-anim-container\");\r\nconst inputContainer = document.querySelector(\".notif-anim-container2\");\r\nconst resultContainer = document.querySelector(\".notif-anim-container3\");\r\nconst noCoinErrorTxt = document.querySelector(\".error-text2\");\r\nconst coinNameTitle = document.querySelector(\".state-coinname\");\r\nconst targetPriceTxt = document.querySelector(\".target-price-title\");\r\nconst targetPriceExpected = document.querySelector(\".target-price-expected\");\r\nconst calculatePrice = document.querySelector(\".calculate-price\");\r\nconst userPercentageInput = document.querySelector(\".user-percentage-input\");\r\nconst incDecToggle = document.querySelector(\".coin-param\");\r\nconst alertButton = document.querySelector(\".alert-button\");\r\nconst messageModal = document.querySelector(\".msg-modal\");\r\nconst notWorking = document.querySelector(\".not-working\");\r\nconst resetImg = document.querySelector(\".reset-img\");\r\n\r\nconst upperModal = document.querySelector(\".result-upper\");\r\nconst lowerModal = document.querySelector(\".result-lower\");\r\nconst sideModal = document.querySelector(\".result-setup-box\");\r\n\r\nwindow.addEventListener(\"load\", () => {\r\n  if (Notification.permission === \"granted\") {\r\n    allowContainer.classList.add(\"hidden\");\r\n    inputContainer.classList.remove(\"hidden\");\r\n  }\r\n});\r\n\r\n// Open notification modal\r\nmanageNotification.addEventListener(\"click\", () => {\r\n  notificationModal.classList.remove(\"hidden\");\r\n  dropShadow.classList.remove(\"hidden\");\r\n});\r\n\r\n// Close notification modal\r\ncloseNotifModal.addEventListener(\"click\", () => {\r\n  notificationModal.classList.add(\"hidden\");\r\n  dropShadow.classList.add(\"hidden\");\r\n  resetImg.classList.add(\"hidden\");\r\n});\r\n\r\ndropShadow.addEventListener(\"click\", () => {\r\n  notificationModal.classList.add(\"hidden\");\r\n  dropShadow.classList.add(\"hidden\");\r\n  resetImg.classList.add(\"hidden\");\r\n});\r\n\r\n// Ask for permission\r\nnotifPush.addEventListener(\"click\", async () => {\r\n  await Notification.requestPermission().then((perm) => {\r\n    if (perm === \"granted\") {\r\n      allowContainer.classList.add(\"opacityOut\");\r\n      resetImg.classList.add(\"hidden\");\r\n      setTimeout(() => {\r\n        allowContainer.classList.add(\"hidden\");\r\n        inputContainer.classList.remove(\"hidden\");\r\n      }, 2000);\r\n    }\r\n  });\r\n});\r\n\r\n// User input search\r\ncoinSearch.addEventListener(\"click\", () => {\r\n  fetchCoinAlert();\r\n});\r\n\r\nlet fetchedCoinPrice = 0;\r\nlet expectedCoinPrice = 0;\r\nlet userQueriedCoinName = \"\";\r\nlet userSpecifiedChange = \"\";\r\n\r\n// Fetch data\r\nconst fetchCoinAlert = async () => {\r\n  try {\r\n    noCoinErrorTxt.classList.add(\"inv\");\r\n    const response = await fetch(\r\n      `https://api.coingecko.com/api/v3/simple/price?ids=${userInput.value}&vs_currencies=usd`\r\n    );\r\n    const data = await response.json();\r\n    userQueriedCoinName = userInput.value;\r\n    console.log(data[userInput.value].usd.toString().length);\r\n    fetchedCoinPrice = data[userInput.value].usd;\r\n    coinFetchPrice.textContent = `$${fetchedCoinPrice}`;\r\n    coinFetchTitle.textContent =\r\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1);\r\n    coinFetchTitle2.textContent =\r\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1);\r\n    inputContainer.classList.add(\"opacityOut\");\r\n    coinNameTitle.textContent = `If ${\r\n      userInput.value.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n    }'s price`;\r\n    console.log(fetchedCoinPrice);\r\n    setTimeout(() => {\r\n      inputContainer.classList.add(\"hidden\");\r\n      resultContainer.classList.remove(\"hidden\");\r\n    }, 2000);\r\n  } catch (err) {\r\n    noCoinErrorTxt.classList.remove(\"inv\");\r\n  }\r\n};\r\n\r\nlet positiveBool = \"\";\r\n\r\n// Calculate price\r\ncalculatePrice.addEventListener(\"click\", () => {\r\n  if (incDecToggle.value === \"Increases\") {\r\n    let calculateValue = (+userPercentageInput.value + 100) / 100;\r\n    let outputValue = calculateValue * fetchedCoinPrice;\r\n    expectedCoinPrice = outputValue;\r\n    userSpecifiedChange = \"surged past your target!\";\r\n    targetPriceExpected.textContent = `$${+outputValue}`;\r\n    alertButton.classList.remove(\"hidden\");\r\n    positiveBool = true;\r\n    return;\r\n  }\r\n  if (incDecToggle.value === \"Decreases\") {\r\n    let calculateValue = (100 - +userPercentageInput.value) / 100;\r\n    let outputValue = calculateValue * fetchedCoinPrice;\r\n    expectedCoinPrice = outputValue;\r\n    userSpecifiedChange = \"dropped past your target!\";\r\n    targetPriceExpected.textContent = `$${+outputValue}`;\r\n    alertButton.classList.remove(\"hidden\");\r\n    positiveBool = false;\r\n    return;\r\n  }\r\n});\r\n\r\nlet fetchedPrice = 0;\r\n\r\nconst intervalFetcher = () => {\r\n  setInterval(async () => {\r\n    try {\r\n      if (positiveBool) {\r\n        if (fetchedPrice < expectedCoinPrice) {\r\n          const response = await fetch(\r\n            `https://api.coingecko.com/api/v3/simple/price?ids=${userQueriedCoinName}&vs_currencies=usd`\r\n          );\r\n          const data = await response.json();\r\n          fetchedPrice = data[userQueriedCoinName].usd;\r\n          checkResultsMin();\r\n        }\r\n      }\r\n\r\n      if (!positiveBool && positiveBool !== \"\") {\r\n        const response = await fetch(\r\n          `https://api.coingecko.com/api/v3/simple/price?ids=${userQueriedCoinName}&vs_currencies=usd`\r\n        );\r\n        const data = await response.json();\r\n        fetchedPrice = data[userQueriedCoinName].usd;\r\n        checkResultsPlus();\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }, 10000);\r\n};\r\n// If expected price is lower\r\nconst checkResultsMin = () => {\r\n  if (fetchedPrice !== 0 && fetchedPrice > expectedCoinPrice) {\r\n    alert(\"Alert!\");\r\n    const notification = new Notification(\r\n      `${\r\n        userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n      }'s price ${userSpecifiedChange}`,\r\n      {\r\n        body: `${\r\n          userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n        }'s price is $${expectedCoinPrice}`,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n// If expected price is higher\r\nconst checkResultsPlus = () => {\r\n  if (fetchedPrice !== 0 && fetchedPrice < expectedCoinPrice) {\r\n    alert(\"Alert!\");\r\n    const notification = new Notification(\r\n      `${\r\n        userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n      }'s price ${userSpecifiedChange}`,\r\n      {\r\n        body: `${\r\n          userQueriedCoinName.charAt(0).toUpperCase() + userInput.value.slice(1)\r\n        }'s price is $${expectedCoinPrice}`,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\nconst fadeModalsOut = (modal, time) => {\r\n  setTimeout(() => {\r\n    modal.classList.add(\"fadeModalOut\");\r\n  }, time);\r\n};\r\n\r\n// Launch alert\r\nalertButton.addEventListener(\"click\", () => {\r\n  intervalFetcher();\r\n  fadeModalsOut(upperModal, 300);\r\n  fadeModalsOut(sideModal, 600);\r\n  fadeModalsOut(lowerModal, 900);\r\n  fadeModalsOut(notificationModal, 1400);\r\n  setTimeout(() => {\r\n    notificationModal.classList.add(\"hidden\");\r\n    notificationModal.classList.remove(\"fadeModalOut\");\r\n    upperModal.classList.remove(\"fadeModalOut\");\r\n    sideModal.classList.remove(\"fadeModalOut\");\r\n    lowerModal.classList.remove(\"fadeModalOut\");\r\n    dropShadow.classList.add(\"hidden\");\r\n    inputContainer.classList.add(\"hidden\");\r\n    resultContainer.classList.add(\"hidden\");\r\n    inputContainer.classList.remove(\"hidden\");\r\n    if (Notification.permission !== \"granted\") {\r\n      allowContainer.classList.remove(\"hidden\");\r\n    }\r\n    allowContainer.classList.remove(\"opacityOut\");\r\n    inputContainer.classList.remove(\"opacityOut\");\r\n    userInput.value = \"\";\r\n    coinFetchPrice.textContent = \"\";\r\n    coinFetchTitle.textContent = \"\";\r\n    coinFetchTitle2.textContent = \"\";\r\n    coinNameTitle.textContent = \"\";\r\n    targetPriceExpected.textContent = \"\";\r\n    userPercentageInput.value = \"\";\r\n    incDecToggle.value = \"Increases\";\r\n  }, 1400);\r\n  setTimeout(() => {\r\n    messageModal.classList.remove(\"hidden\");\r\n    messageModal.classList.add(\"msgAnimate\");\r\n  }, 1600);\r\n  setTimeout(() => {\r\n    messageModal.classList.add(\"hidden\");\r\n  }, 5600);\r\n});\r\n\r\n// Open help image\r\nnotWorking.addEventListener(\"click\", () => {\r\n  resetImg.classList.toggle(\"hidden\");\r\n});\r\n"],"names":["$4c1667d0c42917ff$var$manageNotification","document","querySelector","$4c1667d0c42917ff$var$notificationModal","$4c1667d0c42917ff$var$dropShadow","$4c1667d0c42917ff$var$closeNotifModal","$4c1667d0c42917ff$var$notifPush","$4c1667d0c42917ff$var$coinSearch","$4c1667d0c42917ff$var$coinFetchPrice","$4c1667d0c42917ff$var$coinFetchTitle","$4c1667d0c42917ff$var$coinFetchTitle2","$4c1667d0c42917ff$var$userInput","$4c1667d0c42917ff$var$allowContainer","$4c1667d0c42917ff$var$inputContainer","$4c1667d0c42917ff$var$resultContainer","$4c1667d0c42917ff$var$noCoinErrorTxt","$4c1667d0c42917ff$var$coinNameTitle","$4c1667d0c42917ff$var$targetPriceExpected","$4c1667d0c42917ff$var$calculatePrice","$4c1667d0c42917ff$var$userPercentageInput","$4c1667d0c42917ff$var$incDecToggle","$4c1667d0c42917ff$var$alertButton","$4c1667d0c42917ff$var$messageModal","$4c1667d0c42917ff$var$notWorking","$4c1667d0c42917ff$var$resetImg","$4c1667d0c42917ff$var$upperModal","$4c1667d0c42917ff$var$lowerModal","$4c1667d0c42917ff$var$sideModal","window","addEventListener","Notification","permission","classList","add","remove","async","requestPermission","then","perm","setTimeout","$4c1667d0c42917ff$var$fetchCoinAlert","$4c1667d0c42917ff$var$fetchedCoinPrice","$4c1667d0c42917ff$var$expectedCoinPrice","$4c1667d0c42917ff$var$userQueriedCoinName","$4c1667d0c42917ff$var$userSpecifiedChange","response","fetch","value","data","json","console","log","usd","toString","length","textContent","charAt","toUpperCase","slice","err","$4c1667d0c42917ff$var$positiveBool","outputValue","outputValue1","$4c1667d0c42917ff$var$fetchedPrice","$4c1667d0c42917ff$var$checkResultsMin","alert","body","$4c1667d0c42917ff$var$checkResultsPlus","$4c1667d0c42917ff$var$fadeModalsOut","modal","time","setInterval","response1","data1","toggle"],"version":3,"file":"index.85b1aa5d.js.map"}